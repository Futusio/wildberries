# wildberries
Как парсер код успешно выполняет свои задачи, по ходу написания разобрался с основами xpath
Проблема возникла при попытки подключить Proxy и в формирование cookies 

1. Cookies:
  Wildberries отправляет данные о подключение сразу в google и yandex maps, после чего формирует cookie
  Изучив cookie и их изменения при смене региона на сайте обратил внимания на четыре наиболее интересных пар
    __region = "00_00_00_00_00" # Условный вид
    __store  = "115577_116433_117501_507_3158" # Так же 
    __wbl    = "Тут вообще строка какой-то с кусками в кодировке" - тут интересная особенность.
                В селекторе, в котором по идеи должен лежать город название класса='geo'
                Которое так же встречается в JS скрипте:
                geo: {
                  cookie='__wbl'
                  }
    __ncache ="region;store" # Тут строка кеша, формирующаяся из region и store, так что тоже подозрительно
  
  Но как бы я не пытался передать самодельные Cookie, долго экспериментируя с различными комбинациями значений, формами отправки и кодировки - успешного результата так и не достиг
  Предполагаю, именно из-за обработки переданных данных картами
  
2. Proxy:
  Тут к успеху я приблизился и в какой-то момент поверил в него
  Написал скрапер free-proxies-list.net, взял оттуда пары хостов с портами поддерживающих https
  Решил, что успех близко. Решил пройтись обычным requests по proxies_list, дожидаясь код 200
  Но из-за ассинхронщины движка быстро был выгнан вон, полез копаться в документацию и google пытаясь отыскать ответ
  Понял, что мне необходимо определять собственный middleware для прокси, что оказалось сложной задачей
  нашел pip либу proxy_scrapy_pools, подключил ее, так она вообще не смогла отыскать проксю проходящую на wildberries

С такими проблемами я столкнулся. И хотя с proxy понятно, что делать ( не понятно как ), с Cookies я максимально запутался
И пока что не знаю, как отыскать решение. На этой ноте пора ложиться спать
